/*jshint node:true */

"use strict";

var es = require('event-stream'),
  jshint = require('jshint').JSHINT;

var formatOutput = function(success, file, opt) {
  // no error
  if (success) return {success:success};

  // errors
  var results = jshint.errors.map(function (err) {
    if (!err) return;
    return { file: file.path || "stdin", error: err };
  }).filter(function (err) {
    return err;
  });

  var data = [jshint.data()];
  data[0].file = file.path || "stdin";

  var output = {
    success: succ