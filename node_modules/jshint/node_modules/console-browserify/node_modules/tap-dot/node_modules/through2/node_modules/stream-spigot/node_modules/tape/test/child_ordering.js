var test = require('../');

var childRan = false;

test('parent', function(t) {
    t.test('child', function(t) {
        childRan = true;
        t.pass('child ran');
        t.end();
    });
    t.end();
});

test('uncle', function(t) {
    t.ok(childRan, 'Child should run before next top-level test');
    t.end();
});

var grandParentRan = false;
var parentRan = false;
var grandChildRan = false;
test('grandparent', function(t) {
    t.ok(!grandParentRan, 'grand parent ran twice');
    grandParentRan = tr